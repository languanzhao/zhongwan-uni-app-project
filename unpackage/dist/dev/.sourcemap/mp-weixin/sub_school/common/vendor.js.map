{"version":3,"sources":["webpack:///C:/Users/Administrator/Documents/HBuilderProjects/shop-project/common/map/openMap.js","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/shop-project/common/map/transformCoordinate.js"],"names":["openMapByDefault","latitude","longitude","name","uni","openLocation","address","fail","showModal","content","openMapByAndroid","url","identity","plus","runtime","isApplicationExist","pname","openURL","openMapByIos","errorCB","action","newurl","encodeURI","res","message","getCoordByType","coord_type","TransformCoordinate","bd09togcj02","wgs84togcj02","openMap","arr","x_PI","PI","a","ee","bd_lon","bd_lat","x_pi","x","y","z","Math","sqrt","sin","theta","atan2","cos","gg_lng","gg_lat","gcj02tobd09","lng","lat","bd_lng","out_of_china","dlat","transformlat","dlng","transformlng","radlat","magic","sqrtmagic","mglat","mglng","gcj02towgs84","ret","abs"],"mappings":"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","file":"sub_school/common/vendor.js","sourcesContent":["import TransformCoordinate from './transformCoordinate.js'\r\nfunction openMapByDefault(latitude, longitude, name) {\r\n\tuni.openLocation({\r\n\t\tlatitude: latitude,\r\n\t\tlongitude: longitude,\r\n\t\tname: name,\r\n\t\taddress:name,\r\n\t\tfail: () => {\r\n\t\t\tuni.showModal({\r\n\t\t\t\tcontent: '打开地图失败,请重新尝试'\r\n\t\t\t})\r\n\t\t},\r\n\t})\r\n}\r\nfunction openMapByAndroid(latitude, longitude, name) {\r\n\tlet url = ''; // 回调地址\r\n\tlet identity = ''; // 程序名称\r\n\tif(plus.runtime.isApplicationExist({pname: 'com.baidu.BaiduMap'})) { // baidumap\r\n\t\turl = `baidumap://map/marker?location=${latitude},${longitude}&title=${name}&coord_type=gcj02&src=andr.baidu.openAPIdemo`\r\n\t\tidentity = 'com.baidu.BaiduMap'\r\n\t\topenURL(url, identity)\r\n\t}\r\n\telse if(plus.runtime.isApplicationExist({pname: 'com.autonavi.minimap'})) { // 高德\r\n\t\turl = `androidamap://viewMap?sourceApplication=appname&poiname=${name}&lat=${latitude}&lon=${longitude}&dev=0`\r\n\t\tidentity = 'com.autonavi.minimap'\r\n\t\topenURL(url, identity)\r\n\t}\r\n\telse {\r\n\t\topenMapByDefault(latitude, longitude, name)\r\n\t}\r\n}\r\nfunction openMapByIos(latitude, longitude, name) {\r\n\tlet url = ''; // 回调地址\r\n\tlet errorCB = ''; // url失败的回调地址\r\n\tlet identity = ''; // 程序名称\r\n\r\n\tif(plus.runtime.isApplicationExist({action: 'baidumap://'})) { // baidumap\r\n\t\turl = `baidumap://map/marker?location=${latitude},${longitude}&title=${name}&content=${name}&src=ios.baidu.openAPIdemo&coord_type=gcj02`;\r\n\t\topenURL(url, identity)\r\n\t}\r\n\telse if(plus.runtime.isApplicationExist({action: 'iosamap://'})) { // 高德\r\n\t\turl = `iosamap://viewMap?sourceApplication=applicationName&poiname=${name}&lat=${latitude}&lon=${longitude}&dev=0`\r\n\t\topenURL(url, identity)\r\n\t} \r\n\telse {\r\n\t\topenMapByDefault(latitude, longitude, name)\r\n\t}\r\n}\r\nfunction openURL(url, identity ) {\r\n\tlet newurl = encodeURI(url);\r\n\tplus.runtime.openURL( newurl, function(res){\r\n\t\tuni.showModal({\r\n\t\t\tcontent: res.message\r\n\t\t})\r\n\t}, identity);\r\n}\r\nfunction getCoordByType(longitude, latitude, coord_type) {\r\n\tswitch (coord_type){\r\n\t\tcase 'gcj02':\r\n\t\t\treturn [longitude, latitude]\r\n\t\t\tbreak;\r\n\t\tcase 'bd09':\r\n\t\t\treturn TransformCoordinate.bd09togcj02(longitude, latitude)\r\n\t\t\tbreak;\r\n\t\tcase 'wgs84':\r\n\t\t\treturn TransformCoordinate.wgs84togcj02(longitude, latitude)\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\treturn [longitude, latitude]\r\n\t\t\tbreak;\r\n\t}\r\n}\r\nexport default {\r\n\t/* 打开地图 */\r\n\topenMap(latitude, longitude, name, coord_type='gcj02') {\r\n\t\tlet arr = getCoordByType(longitude, latitude, coord_type)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\topenMapByDefault(arr[1], arr[0], name)\r\n\r\n\t}\r\n}","/**\n * Created by Wandergis on 2015/7/8.\n * 提供了百度坐标（BD09）、国测局坐标（火星坐标，GCJ02）、和WGS84坐标系之间的转换\n */\n \n//定义一些常量\nvar x_PI = 3.14159265358979324 * 3000.0 / 180.0;\nvar PI = 3.1415926535897932384626;\nvar a = 6378245.0;\nvar ee = 0.00669342162296594323;\n \n/**\n * 百度坐标系 (BD-09) 与 火星坐标系 (GCJ-02)的转换\n * 即 百度 转 谷歌、高德\n * @param bd_lon\n * @param bd_lat\n * @returns {*[]}\n */\nfunction bd09togcj02(bd_lon, bd_lat) {\n    var x_pi = 3.14159265358979324 * 3000.0 / 180.0;\n    var x = bd_lon - 0.0065;\n    var y = bd_lat - 0.006;\n    var z = Math.sqrt(x * x + y * y) - 0.00002 * Math.sin(y * x_pi);\n    var theta = Math.atan2(y, x) - 0.000003 * Math.cos(x * x_pi);\n    var gg_lng = z * Math.cos(theta);\n    var gg_lat = z * Math.sin(theta);\n    return [gg_lng, gg_lat]\n}\n \n/**\n * 火星坐标系 (GCJ-02) 与百度坐标系 (BD-09) 的转换\n * 即谷歌、高德 转 百度\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nfunction gcj02tobd09(lng, lat) {\n    var z = Math.sqrt(lng * lng + lat * lat) + 0.00002 * Math.sin(lat * x_PI);\n    var theta = Math.atan2(lat, lng) + 0.000003 * Math.cos(lng * x_PI);\n    var bd_lng = z * Math.cos(theta) + 0.0065;\n    var bd_lat = z * Math.sin(theta) + 0.006;\n    return [bd_lng, bd_lat]\n}\n \n/**\n * WGS84转GCj02\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nfunction wgs84togcj02(lng, lat) {\n    if (out_of_china(lng, lat)) {\n        return [lng, lat]\n    }\n    else {\n        var dlat = transformlat(lng - 105.0, lat - 35.0);\n        var dlng = transformlng(lng - 105.0, lat - 35.0);\n        var radlat = lat / 180.0 * PI;\n        var magic = Math.sin(radlat);\n        magic = 1 - ee * magic * magic;\n        var sqrtmagic = Math.sqrt(magic);\n        dlat = (dlat * 180.0) / ((a * (1 - ee)) / (magic * sqrtmagic) * PI);\n        dlng = (dlng * 180.0) / (a / sqrtmagic * Math.cos(radlat) * PI);\n        var mglat = lat + dlat;\n        var mglng = lng + dlng;\n        return [mglng, mglat]\n    }\n}\n \n/**\n * GCJ02 转换为 WGS84\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nfunction gcj02towgs84(lng, lat) {\n    if (out_of_china(lng, lat)) {\n        return [lng, lat]\n    }\n    else {\n        var dlat = transformlat(lng - 105.0, lat - 35.0);\n        var dlng = transformlng(lng - 105.0, lat - 35.0);\n        var radlat = lat / 180.0 * PI;\n        var magic = Math.sin(radlat);\n        magic = 1 - ee * magic * magic;\n        var sqrtmagic = Math.sqrt(magic);\n        dlat = (dlat * 180.0) / ((a * (1 - ee)) / (magic * sqrtmagic) * PI);\n        dlng = (dlng * 180.0) / (a / sqrtmagic * Math.cos(radlat) * PI);\n        mglat = lat + dlat;\n        mglng = lng + dlng;\n        return [lng * 2 - mglng, lat * 2 - mglat]\n    }\n}\n \nfunction transformlat(lng, lat) {\n    var ret = -100.0 + 2.0 * lng + 3.0 * lat + 0.2 * lat * lat + 0.1 * lng * lat + 0.2 * Math.sqrt(Math.abs(lng));\n    ret += (20.0 * Math.sin(6.0 * lng * PI) + 20.0 * Math.sin(2.0 * lng * PI)) * 2.0 / 3.0;\n    ret += (20.0 * Math.sin(lat * PI) + 40.0 * Math.sin(lat / 3.0 * PI)) * 2.0 / 3.0;\n    ret += (160.0 * Math.sin(lat / 12.0 * PI) + 320 * Math.sin(lat * PI / 30.0)) * 2.0 / 3.0;\n    return ret\n}\n \nfunction transformlng(lng, lat) {\n    var ret = 300.0 + lng + 2.0 * lat + 0.1 * lng * lng + 0.1 * lng * lat + 0.1 * Math.sqrt(Math.abs(lng));\n    ret += (20.0 * Math.sin(6.0 * lng * PI) + 20.0 * Math.sin(2.0 * lng * PI)) * 2.0 / 3.0;\n    ret += (20.0 * Math.sin(lng * PI) + 40.0 * Math.sin(lng / 3.0 * PI)) * 2.0 / 3.0;\n    ret += (150.0 * Math.sin(lng / 12.0 * PI) + 300.0 * Math.sin(lng / 30.0 * PI)) * 2.0 / 3.0;\n    return ret\n}\n \n/**\n * 判断是否在国内，不在国内则不做偏移\n * @param lng\n * @param lat\n * @returns {boolean}\n */\nfunction out_of_china(lng, lat) {\n    return (lng < 72.004 || lng > 137.8347) || ((lat < 0.8293 || lat > 55.8271) || false);\n}\n\nexport default {\n\tbd09togcj02: bd09togcj02,  // 百度坐标系 (BD-09) 与 火星坐标系 (GCJ-02)的转换\n\tgcj02tobd09: gcj02tobd09, // 火星坐标系 (GCJ-02) 与百度坐标系 (BD-09) 的转换\n\twgs84togcj02: wgs84togcj02,  // \n\tgcj02towgs84: gcj02towgs84,\n}"],"sourceRoot":""}